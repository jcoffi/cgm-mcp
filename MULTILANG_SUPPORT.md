# ğŸŒ CGM MCP å¤šè¯­è¨€æ”¯æŒ

CGM MCP ç°åœ¨æ”¯æŒ **28 ç§ç¼–ç¨‹è¯­è¨€**ï¼Œå…± **55 ç§æ–‡ä»¶æ‰©å±•å**ï¼

## âœ… æ”¯æŒçš„ç¼–ç¨‹è¯­è¨€

### ğŸ”¥ å®Œå…¨æ”¯æŒï¼ˆä¸“é—¨åˆ†æå™¨ï¼‰

#### **PHP** ğŸ˜
- **æ‰©å±•å**: `.php`, `.php3`, `.php4`, `.php5`, `.phtml`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ç±» (Classes) - åŒ…æ‹¬ç»§æ‰¿å’Œæ¥å£å®ç°
  - âœ… æ¥å£ (Interfaces) - åŒ…æ‹¬ç»§æ‰¿å…³ç³»
  - âœ… ç‰¹å¾ (Traits)
  - âœ… å‡½æ•° (Functions) - å…¨å±€å‡½æ•°
  - âœ… æ–¹æ³• (Methods) - ç±»æ–¹æ³•ï¼ŒåŒ…æ‹¬å¯è§æ€§
  - âœ… å¯è§æ€§æ£€æµ‹ (public/private/protected)

#### **JavaScript/TypeScript** ğŸŸ¨
- **æ‰©å±•å**: `.js`, `.jsx`, `.ts`, `.tsx`, `.mjs`, `.cjs`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ES6 ç±» (Classes)
  - âœ… å‡½æ•°å£°æ˜å’Œè¡¨è¾¾å¼
  - âœ… ç®­å¤´å‡½æ•°
  - âœ… å¼‚æ­¥å‡½æ•°
  - âœ… TypeScript æ¥å£ (ä»… .ts/.tsx)
  - âœ… å¯¹è±¡æ–¹æ³•

#### **Go** ğŸ¹
- **æ‰©å±•å**: `.go`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ç»“æ„ä½“ (Structs)
  - âœ… æ¥å£ (Interfaces)
  - âœ… å‡½æ•° (Functions)
  - âœ… æ–¹æ³• (Methods)
  - âœ… åŒ…å£°æ˜

#### **Rust** ğŸ¦€
- **æ‰©å±•å**: `.rs`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ç»“æ„ä½“ (Structs)
  - âœ… æšä¸¾ (Enums)
  - âœ… ç‰¹å¾ (Traits)
  - âœ… å‡½æ•° (Functions)
  - âœ… å®ç°å— (Impl blocks)
  - âœ… å¯è§æ€§ (pub)

#### **Ruby** ğŸ’
- **æ‰©å±•å**: `.rb`, `.rbw`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ç±» (Classes) - åŒ…æ‹¬ç»§æ‰¿
  - âœ… æ¨¡å— (Modules)
  - âœ… æ–¹æ³• (Methods)
  - âœ… å®ä¾‹å˜é‡

#### **C#** ğŸ”·
- **æ‰©å±•å**: `.cs`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ç±» (Classes) - åŒ…æ‹¬ç»§æ‰¿å’Œæ¥å£
  - âœ… æ¥å£ (Interfaces)
  - âœ… æ–¹æ³• (Methods)
  - âœ… å±æ€§ (Properties)
  - âœ… å‘½åç©ºé—´ (Namespaces)
  - âœ… å¯è§æ€§ä¿®é¥°ç¬¦

#### **Java/Kotlin/Scala** â˜•
- **æ‰©å±•å**: `.java`, `.kt`, `.scala`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ç±» (Classes)
  - âœ… æ¥å£ (Interfaces)
  - âœ… æšä¸¾ (Enums)
  - âœ… æ–¹æ³• (Methods)
  - âœ… åŒ…å£°æ˜

#### **C/C++** âš¡
- **æ‰©å±•å**: `.c`, `.cpp`, `.cc`, `.cxx`, `.h`, `.hpp`, `.hxx`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… å‡½æ•° (Functions)
  - âœ… ç»“æ„ä½“ (Structs)
  - âœ… ç±» (Classes) - C++ ä¸“ç”¨
  - âœ… å‘½åç©ºé—´ (Namespaces) - C++ ä¸“ç”¨

#### **Python** ğŸ
- **æ‰©å±•å**: `.py`, `.pyx`, `.pyi`
- **æ”¯æŒç‰¹æ€§**:
  - âœ… ç±» (Classes) - AST è§£æ
  - âœ… å‡½æ•° (Functions) - AST è§£æ
  - âœ… æ–¹æ³• (Methods) - AST è§£æ
  - âœ… å¯¼å…¥è¯­å¥ - AST è§£æ
  - âœ… æ–‡æ¡£å­—ç¬¦ä¸²
  - âœ… è£…é¥°å™¨

### ğŸ”§ åŸºç¡€æ”¯æŒï¼ˆé€šç”¨åˆ†æå™¨ï¼‰

ä»¥ä¸‹è¯­è¨€é€šè¿‡é€šç”¨æ¨¡å¼åŒ¹é…æ”¯æŒåŸºæœ¬çš„å‡½æ•°å’Œç±»è¯†åˆ«ï¼š

- **Swift** (`.swift`)
- **Objective-C** (`.m`, `.mm`)
- **Dart** (`.dart`)
- **Lua** (`.lua`)
- **Shell** (`.sh`, `.bash`, `.zsh`, `.fish`)
- **SQL** (`.sql`)
- **R** (`.r`, `.R`)
- **Perl** (`.pl`, `.pm`)
- **Haskell** (`.hs`)
- **Erlang** (`.erl`)
- **Elixir** (`.ex`, `.exs`)
- **Clojure** (`.clj`, `.cljs`, `.cljc`)
- **F#** (`.fs`, `.fsx`)
- **Visual Basic** (`.vb`)
- **PowerShell** (`.ps1`, `.psm1`)

## ğŸ“Š æµ‹è¯•ç»“æœ

```
ğŸ” Testing PHP analysis...
   ğŸ“Š Found 9 entities:
      file: test.php
      class: UserController
      function: login, authenticate, getUser, log, validateEmail
      interface: UserInterface
      trait: Loggable
   âœ… PHP analysis completed

ğŸ” Testing JS analysis...
   ğŸ“Š Found 5 entities:
      file: test.js
      class: UserManager
      function: validateUser, authenticate, createUser
   âœ… JS analysis completed

ğŸ” Testing GO analysis...
   ğŸ“Š Found 6 entities:
      file: test.go
      function: GetUser, main
      struct: User, UserRepository
      interface: UserService
   âœ… GO analysis completed

ğŸ” Testing RS analysis...
   ğŸ“Š Found 10 entities:
      file: test.rs
      function: get_user, new, get_user, create_user, validate_email
      struct: User, UserRepository
      enum: UserError
      trait: UserService
   âœ… RS analysis completed

ğŸ” Testing RB analysis...
   ğŸ“Š Found 11 entities:
      file: test.rb
      class: User, UserService
      module: UserValidation
      method: initialize, to_s, validate_email, validate_username, initialize
   âœ… RB analysis completed

ğŸ” Testing CS analysis...
   ğŸ“Š Found 12 entities:
      file: test.cs
      class: User, UserService, UserHelper
      interface: IUserService
      method: User, ToString, UserService, GetUser, CreateUser
   âœ… CS analysis completed
```

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### åˆ†æ PHP é¡¹ç›®
```python
from cgm_mcp.models import CodeAnalysisRequest

request = CodeAnalysisRequest(
    repository_path="/path/to/php/project",
    query="authentication system",
    analysis_scope="focused"
)

response = await analyzer.analyze_repository(request)
```

### é€šè¿‡ MCP å·¥å…·è°ƒç”¨
```json
{
  "tool": "cgm_analyze_repository",
  "arguments": {
    "repository_path": "/path/to/project",
    "query": "user management",
    "analysis_scope": "focused"
  }
}
```

## ğŸ”§ æ‰©å±•æ–°è¯­è¨€

è¦æ·»åŠ å¯¹æ–°è¯­è¨€çš„æ”¯æŒï¼Œåªéœ€ï¼š

1. **æ·»åŠ æ–‡ä»¶æ‰©å±•å**:
```python
self.supported_extensions.add(".new_ext")
```

2. **æ·»åŠ è¯­è¨€æ£€æµ‹**:
```python
".new_ext": "new_language"
```

3. **åˆ›å»ºä¸“é—¨åˆ†æå™¨**ï¼ˆå¯é€‰ï¼‰:
```python
def _analyze_new_language_file(self, content: str, file_path: str) -> List[CodeEntity]:
    # å®ç°è¯­è¨€ç‰¹å®šçš„åˆ†æé€»è¾‘
    pass
```

## ğŸ¯ è¯­è¨€ç‰¹æ€§æ”¯æŒçŸ©é˜µ

| è¯­è¨€ | ç±»/ç»“æ„ä½“ | æ¥å£ | å‡½æ•°/æ–¹æ³• | ç»§æ‰¿ | å¯è§æ€§ | ç‰¹æ®Šç‰¹æ€§ |
|------|-----------|------|-----------|------|--------|----------|
| PHP | âœ… | âœ… | âœ… | âœ… | âœ… | Traits |
| JavaScript | âœ… | âœ…* | âœ… | âœ… | âŒ | Arrow Functions |
| TypeScript | âœ… | âœ… | âœ… | âœ… | âœ… | Type Annotations |
| Go | âœ… | âœ… | âœ… | âŒ | âœ… | Packages |
| Rust | âœ… | âœ… | âœ… | âŒ | âœ… | Traits, Enums |
| Ruby | âœ… | âŒ | âœ… | âœ… | âŒ | Modules |
| C# | âœ… | âœ… | âœ… | âœ… | âœ… | Namespaces |
| Java | âœ… | âœ… | âœ… | âœ… | âœ… | Packages |
| C/C++ | âœ… | âŒ | âœ… | âœ… | âœ… | Namespaces |
| Python | âœ… | âŒ | âœ… | âœ… | âŒ | Decorators |

*ä»… TypeScript

## ğŸ”® æœªæ¥è®¡åˆ’

- [ ] æ·»åŠ æ›´å¤šè¯­è¨€çš„ä¸“é—¨åˆ†æå™¨
- [ ] æ”¯æŒè¯­è¨€ç‰¹å®šçš„ä¾èµ–å…³ç³»åˆ†æ
- [ ] å¢å¼ºè·¨è¯­è¨€é¡¹ç›®æ”¯æŒ
- [ ] æ·»åŠ è¯­æ³•é«˜äº®å’Œä»£ç æ ¼å¼åŒ–
- [ ] æ”¯æŒæ›´å¤æ‚çš„ä»£ç ç»“æ„åˆ†æ

---

**CGM MCP ç°åœ¨æ˜¯çœŸæ­£çš„å¤šè¯­è¨€ä»£ç åˆ†æå·¥å…·ï¼** ğŸŒâœ¨
